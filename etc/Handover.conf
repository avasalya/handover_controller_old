{

	// If true and the FSM is self-managed, transitions should be triggered
	"StepByStep": true,

	// Where to look for state libraries
	"StatesLibraries": ["/usr/local/lib/mc_controller/fsm/states/", "/usr/local/lib/mc_controller/mc_handover_controller/states/"],

	
	// Where to look for state files
	// "StatesFiles": ["../states"],
	"StatesFiles": [],


  // Additional robots to load
  "robots":
  {
    "ground":
    {
      "module": "env",
      "params": ["@MC_ENV_DESCRIPTION@", "ground"]
    },
   "handoverObjects":
   {
   	"module": "object",
   	"params": ["/home/avasalya/catkin_ws/src/handover_urdf/", "handoverPipe"]
    // "params": ["/home/hrp2user/jrl/catkin_ws/src/handover_urdf/", "handoverPipe"]
   }
  },

  "hrp2_drc":
  {
    "posture":
    {
      "stiffness": 1.0,
      "weight": 10.0
    },
    "ff":
    {
      "stiffness": 2.0,
      "weight": 10000.0
    }
  },

  // Constraints
  "constraints":
  [
    {
      "type": "contact"
    },
    {
      "type": "dynamics",
      "robotIndex": 0,
      "damper": [0.1, 0.01, 0.5]
    },
    {
      "type": "dynamics",
      "robotIndex": 2,
      "damper": [0.1, 0.01, 0.5]
    }
  ],
  
  // Initial set of contacts
  "contacts":
  [
    {
      "r1": "hrp2_drc",
      "r2": "ground",
      "r1Surface": "LFullSole",
      "r2Surface": "AllGround"
    },
    {
      "r1": "hrp2_drc",
      "r2": "ground",
      "r1Surface": "RFullSole",
      "r2Surface": "AllGround"
    },
    {
      "r1": "handoverObjects",
      "r2": "ground",
      "r1Surface": "handoverPipeBottom",
      "r2Surface": "AllGround"
    }
  ],

  // FSM  configurations
  "configs":
  {
    "GoInitPoseStep":
    {
      "threshold_eval": 0.05,
      "threshold_speed": 0.005,
      "stiffness": 2.0,
      "weight": 1500.0
    },
    
    "ApproachObjectStep":
    {
      "threshold_eval": 0.05,
      "threshold_speed": 0.005,
      "stiffness": 2.0,
      "weight": 1500.0
    },
    
    "OpenGrippersStep":
    {
		"openGrippers": 0.5
    },
    
    "CloseGrippersStep":
    {
		"closeGrippers": 0.2
    },
    

    "ForceControlGrippersStep":
    {
      "handsWrenchTh":   [20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20],
      "handsWrenchDir":  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], //1 for +ve, 0 for -ve  
    },
    
    "GoDummyPoseStep":
    {
		"threshold_eval": 0.05,
		"threshold_speed": 0.005,
		"stiffness": 2.0,
		"weight": 1500.0
    },
  	
  	"GoHalfSittingStep":
    {
		"threshold_eval": 0.05,
		"threshold_speed": 0.005,
		"stiffness": 2.0,
		"weight": 1500.0
    },
  },

  // FSM States
  // "init" : "Start",
  "states":
  {
  	"Start":
  	 { 
  	 	"base": "Pause"
  	 }
  },

  "transitions":
  [

  	["Start", 				     	"OK", 		"GoInitPoseStep", 			    "Strict"],
  	["GoInitPoseStep", 			"OK", 		"OpenGrippersStep",         "Strict"],
  	["OpenGrippersStep", 		"OK", 		"ApproachObjectStep",   		"Strict"],
  	["ApproachObjectStep", 	"OK", 		"CloseGrippersStep",    		"Strict"],
  	["CloseGrippersStep",   "OK",     "ForceControlGrippersStep", "Strict"],
    
    ["ForceControlGrippersStep", "Repeat",	"ForceControlGrippersStep", "Auto"],
    
    // ["CloseGrippersStep",    "Repeat",   "OpenGrippersStep",     "Strict"],
    // ["OpenGrippersStep",     "Repeat",   "CloseGrippersStep",    "Strict"],

  	// ["ForceControlGrippersStep",     "OK",     "GoDummyPoseStep",    "Strict"],

	// ["CloseGrippersStep",			"OK", 		"Start", 				"Strict"],
  	// ["CloseGrippersStep",			"OK", 		"GoDummyPoseStep", 		"Strict"],


  	// ["GoInitPoseStep",				"Repeat", 		"GoHalfSittingStep", 			"Strict"],
  	
  ],
}
